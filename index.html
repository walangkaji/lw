<!DOCTYPE html>
<html lang="en" data-bs-theme="auto">
    <head>
        <script src="https://getbootstrap.com/docs/5.3/assets/js/color-modes.js"></script>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors" />
        <meta name="generator" content="Hugo 0.122.0" />
        <title>LW</title>

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" />

        <link href="https://getbootstrap.com/docs/5.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

        <!-- Favicons -->
        <link rel="apple-touch-icon" href="https://getbootstrap.com/docs/5.3/assets/img/favicons/apple-touch-icon.png" sizes="180x180" />
        <link rel="icon" href="https://getbootstrap.com/docs/5.3/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png" />
        <link rel="icon" href="https://getbootstrap.com/docs/5.3/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png" />
        <link rel="mask-icon" href="https://getbootstrap.com/docs/5.3/assets/img/favicons/safari-pinned-tab.svg" color="#712cf9" />
        <link rel="icon" href="https://getbootstrap.com/docs/5.3/assets/img/favicons/favicon.ico" />
        <meta name="theme-color" content="#712cf9" />

        <style>
            /* html,
            body {
                height: 100%;
            } */

            .form-signin {
                max-width: 330px;
                padding: 1rem;
            }

            .form-signin .form-floating:focus-within {
                z-index: 2;
            }

            .form-signin input[type='email'] {
                margin-bottom: -1px;
                border-bottom-right-radius: 0;
                border-bottom-left-radius: 0;
            }

            .form-signin input[type='password'] {
                margin-bottom: 10px;
                border-top-left-radius: 0;
                border-top-right-radius: 0;
            }
            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }

            @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                    font-size: 3.5rem;
                }
            }

            .b-example-divider {
                width: 100%;
                height: 3rem;
                background-color: rgba(0, 0, 0, 0.1);
                border: solid rgba(0, 0, 0, 0.15);
                border-width: 1px 0;
                box-shadow: inset 0 0.5em 1.5em rgba(0, 0, 0, 0.1), inset 0 0.125em 0.5em rgba(0, 0, 0, 0.15);
            }

            .b-example-vr {
                flex-shrink: 0;
                width: 1.5rem;
                height: 100vh;
            }

            .bi {
                vertical-align: -0.125em;
                fill: currentColor;
            }

            .nav-scroller {
                position: relative;
                z-index: 2;
                height: 2.75rem;
                overflow-y: hidden;
            }

            .nav-scroller .nav {
                display: flex;
                flex-wrap: nowrap;
                padding-bottom: 1rem;
                margin-top: -1px;
                overflow-x: auto;
                text-align: center;
                white-space: nowrap;
                -webkit-overflow-scrolling: touch;
            }

            .btn-bd-primary {
                --bd-violet-bg: #712cf9;
                --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

                --bs-btn-font-weight: 600;
                --bs-btn-color: var(--bs-white);
                --bs-btn-bg: var(--bd-violet-bg);
                --bs-btn-border-color: var(--bd-violet-bg);
                --bs-btn-hover-color: var(--bs-white);
                --bs-btn-hover-bg: #6528e0;
                --bs-btn-hover-border-color: #6528e0;
                --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
                --bs-btn-active-color: var(--bs-btn-hover-color);
                --bs-btn-active-bg: #5a23c8;
                --bs-btn-active-border-color: #5a23c8;
            }

            .bd-mode-toggle {
                z-index: 1500;
            }

            .bd-mode-toggle .dropdown-menu .active .bi {
                display: block !important;
            }
        </style>
    </head>
    <body class="">
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
            <symbol id="check2" viewBox="0 0 16 16">
                <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z" />
            </symbol>
            <symbol id="circle-half" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z" />
            </symbol>
            <symbol id="moon-stars-fill" viewBox="0 0 16 16">
                <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z" />
                <path
                    d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"
                />
            </symbol>
            <symbol id="sun-fill" viewBox="0 0 16 16">
                <path
                    d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"
                />
            </symbol>
        </svg>

        <div class="dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle">
            <button class="btn btn-bd-primary py-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (auto)">
                <svg class="bi my-1 theme-icon-active" width="1em" height="1em"><use href="#circle-half"></use></svg>
                <span class="visually-hidden" id="bd-theme-text">Toggle theme</span>
            </button>
            <ul class="dropdown-menu dropdown-menu-end shadow" aria-labelledby="bd-theme-text">
                <li>
                    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                        <svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#sun-fill"></use></svg>
                        Light
                        <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
                    </button>
                </li>
                <li>
                    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                        <svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#moon-stars-fill"></use></svg>
                        Dark
                        <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
                    </button>
                </li>
                <li>
                    <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                        <svg class="bi me-2 opacity-50" width="1em" height="1em"><use href="#circle-half"></use></svg>
                        Auto
                        <svg class="bi ms-auto d-none" width="1em" height="1em"><use href="#check2"></use></svg>
                    </button>
                </li>
            </ul>
        </div>

        <main>
            <div class="pricing-header p-3 pb-md-4 mx-auto text-center">
                <h1 class="display-4 fw-normal text-body-emphasis" id="current-time"></h1>
            </div>
            <div class="container py-4">
                <div class="row align-items-md-stretch">
                    <div class="col-md-6 mb-3">
                        <div class="h-100 p-5 rounded-3 border rounded-3">
                            <form>
                                <h1 class="h3 mb-3 fw-normal text-center">Hero Exp</h1>
                                <div class="row g-3 mb-3">
                                    <div class="col-md-6">
                                        <label for="hero-from-level" class="form-label">From Level:</label>
                                        <input type="number" min="1" max="155" id="hero-from-level" class="form-control" placeholder="e.g. 100" required />
                                    </div>
                                    <div class="col-md-6">
                                        <label for="hero-to-level" class="form-label">To Level:</label>
                                        <input type="number" min="2" max="155" id="hero-to-level" class="form-control" placeholder="e.g. 125" required />
                                    </div>
                                </div>
                                <p id="result-hero-exp" class="alert alert-info">Enter a value to see EXP needed</p>
                            </form>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="h-100 p-5 rounded-3 border rounded-3">
                            <form>
                                <h1 class="h3 mb-3 fw-normal text-center">Time Distance</h1>
                                <div class="mb-3">
                                    <label for="time-distance-input" class="form-label">Target time:</label>
                                    <input type="time" id="time-distance-input" class="form-control" required />
                                </div>
                                <p id="output-time-distance" class="alert alert-info">Enter a target time to see the result.</p>
                            </form>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="h-100 p-5 rounded-3 border rounded-3">
                            <form>
                                <h1 class="h3 mb-3 fw-normal text-center">Queue Time Calculator</h1>
                                <div class="mb-3">
                                    <label for="queue" class="form-label">Enter number of people in queue:</label>
                                    <input type="number" id="queue-input" min="1" class="form-control" placeholder="e.g. 64" required />
                                </div>
                                <p id="queue-result" class="alert alert-info">Enter a value to see your turn time.</p>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <script src="https://getbootstrap.com/docs/5.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            updateCurrentTime();
            setInterval(updateCurrentTime, 1000);

            // Get & Set queue from localStorage
            loadLocalItem('#queue-input', 'queue_number', calculateQueue);
            $('#queue-input').on('input', (e) => saveLocalItem('queue_number', e.target.value, calculateQueue));

            // Get & Set time distance from localStorage
            loadLocalItem('#time-distance-input', 'time_distance', calculateTimeDifference);
            $('#time-distance-input').on('input', (e) => saveLocalItem('time_distance', e.target.value, calculateTimeDifference));

            // Get & Set hero exp from localStorage
            loadLocalItem('#hero-from-level', 'hero_from_level');
            loadLocalItem('#hero-to-level', 'hero_to_level');
            heroCalc();
            $('#hero-from-level, #hero-to-level').on('input', (e) => heroCalc());

            function heroCalc() {
                const fromLevel = $('#hero-from-level').val();
                const toLevel = $('#hero-to-level').val();

                if (parseInt(fromLevel) >= parseInt(toLevel)) {
                    $('#result-hero-exp').text('Invalid level input').attr('class', 'alert alert-danger');
                }

                let exp = calculateExp(parseInt(fromLevel), parseInt(toLevel));

                if (exp !== 0) {
                    $('#result-hero-exp').text(formatNumber(exp) + ' EXP needed').attr('class', 'alert alert-success');
                } else {
                    // $('#result-hero-exp').text('Invalid level').attr('class', 'alert alert-danger');
                }

                saveLocalItem('hero_from_level', fromLevel);
                saveLocalItem('hero_to_level', toLevel);
            }

            function loadLocalItem(domId, keyItem, callback) {
                const item = localStorage.getItem(keyItem);
                if (item) {
                    $(domId).val(item);
                    if (callback) {
                        callback();
                    }
                }
            }

            function saveLocalItem(keyItem, itemValue, callback) {
                localStorage.setItem(keyItem, itemValue);
                if (callback) {
                    callback();
                }
            }

            function updateCurrentTime() {
                const now = new Date();
                const currentTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Jakarta' }));
                const timeString = now.toTimeString().split(' ')[0];
                $('#current-time').text(`${timeString} WIB`);
            }

            function calculateQueue() {
                const queue = parseInt($('#queue-input').val());

                if (isNaN(queue) || queue <= 0) {
                    $('#queue-result').text('Please enter a valid number of people in the queue').attr('class', 'alert alert-danger');
                } else {
                    const now = new Date();
                    const currentTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Jakarta' }));
                    const endDate = new Date(currentTime.getTime() + queue * 5 * 60000);

                    const resultTime = endDate.toTimeString().split(':').slice(0, 2).join(':');
                    $('#queue-result').text(`Your turn will be at approximately ${resultTime} WIB`).attr('class', 'alert alert-success');
                }
            }

            function calculateTimeDifference() {
                const targetTime = $('#time-distance-input').val();
                if (!targetTime) return;

                const now = new Date();
                const [hours, minutes] = targetTime.split(':').map(Number);
                let targetDate = new Date(now);
                targetDate.setHours(hours, minutes, 0, 0);

                if (targetDate < now) {
                    targetDate.setDate(targetDate.getDate() + 1);
                }

                const diffMs = targetDate - now;
                const diffMinutes = Math.floor(diffMs / 60000);
                const days = Math.floor(diffMinutes / 1440);
                const hoursLeft = Math.floor((diffMinutes % 1440) / 60);
                const minutesLeft = diffMinutes % 60;

                $('#output-time-distance')
                    .text(`${days} day${days !== 1 ? 's' : ''} ${hoursLeft} hour${hoursLeft !== 1 ? 's' : ''} ${minutesLeft} minute${minutesLeft !== 1 ? 's' : ''}`)
                    .attr('class', 'alert alert-success');
            }

            function formatNumber(num) {
                if (num < 1000) return num.toString();
                if (num < 1000000) return (num / 1000).toFixed(1) + 'K';
                if (num < 1000000000) return (num / 1000000).toFixed(2) + 'M';
                return (num / 1000000000).toFixed(2) + 'G';
            }

            function calculateExp(fromLevel, toLevel) {
                const exps = [
                    0, 100, 200, 300, 400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2300, 2700, 3200, 3900, 4600, 5500, 6600, 8000, 9500, 12000, 14000, 17000, 20000, 24000, 29000, 35000, 41000, 49000, 59000, 71000, 85000, 110000, 130000,
                    150000, 180000, 220000, 260000, 310000, 370000, 440000, 530000, 630000, 760000, 910000, 1100000, 1400000, 1600000, 1900000, 2100000, 2300000, 2500000, 2800000, 3100000, 3400000, 3700000, 4100000, 4500000, 4900000, 5400000, 5900000, 6500000, 7200000, 7900000, 8700000, 9500000,
                    11000000, 12000000, 13000000, 13000000, 14000000, 14000000, 15000000, 16000000, 17000000, 18000000, 19000000, 20000000, 21000000, 22000000, 23000000, 24000000, 25000000, 26000000, 27000000, 28000000, 30000000, 31000000, 33000000, 35000000, 37000000, 39000000, 41000000, 43000000,
                    45000000, 47000000, 49000000, 51000000, 53000000, 55000000, 57000000, 59000000, 61000000, 63000000, 65000000, 67000000, 69000000, 71000000, 73000000, 75000000, 77000000, 79000000, 81000000, 83000000, 85000000, 87000000, 89000000, 91000000, 93000000, 95000000, 97000000, 100000000,
                    105000000, 110000000, 115000000, 120000000, 125000000, 130000000, 135000000, 140000000, 145000000, 150000000, 155000000, 160000000, 165000000, 170000000, 175000000, 180000000, 185000000, 200000000, 215000000, 230000000, 245000000, 260000000,
                ];

                if (fromLevel >= toLevel) {
                    return 0;
                }

                let totalEXP = 0;
                for (let level = fromLevel; level < toLevel; level++) {
                    totalEXP += exps[level];
                }

                return totalEXP;
            }


        </script>
    </body>
</html>
